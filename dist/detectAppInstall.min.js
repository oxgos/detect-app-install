!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("core-js/modules/es6.regexp.match")):"function"==typeof define&&define.amd?define(["core-js/modules/es6.regexp.match"],n):(e=e||self).detectAppInstall=n()}(this,(function(){"use strict";function e(){const e=navigator.userAgent;return{isIos:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isAndroid:e.indexOf("Android")>-1||e.indexOf("Adr")>-1}}function n(){const e={hidden:1,webkitHidden:1,mozHidden:1,msHidden:1};for(let n in e)if(void 0!==typeof document[n])return document[n];return!1}return function(t){let{ios:o,android:i}=t,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return new Promise((t,r)=>{const s=e(),c=+new Date;let u;if(s.isIos)u=window.setInterval((function(){+new Date-c>d&&(clearInterval(u),n()?t():r())}),100),window.location.href=o.url;else if(s.isAndroid){const e=document.createElement("iframe");e.src=i.url,e.style.display="none";let o=0;u=window.setInterval((function(){if(o++,o>=100){+new Date-c>d||n()?t():r()}}),20),document.body.appendChild(e),setTimeout((function(){document.body.removeChild(e)}),2e3)}})}}));
