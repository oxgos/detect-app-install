<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>detect-app-install</title>
</head>

<body>
  <div id="content"></div>
  <script src="../dist/detectAppInstall.min.js"></script>
  <script>
    let open = {
      ios: {
        url: 'ado://com.xxx.beegrid'
      },
      android: {
        url: 'ado://com.xxx.beegrid'
      }
    },
      downloadUrl = 'https://download.html',
      checkTime = 3000
      
    window.onload = function () {
      /*
       * @params {Object} open Ios/Android: schema URL
       * PS: IOS用schema URL会默认弹出确认提示框，若想取消，IOS可尝试用Universal Link(但作者没测试)
       * @params {Number} checkTime 等待时间，若超过时间，自动打开downloadUrl, 默认2500ms
       */
      detectAppInstall(params, checkTime)
        .then(() => {
          document.getElementById('content').innerHTML = '已安装'
        })
        .catch(() => {
          document.getElementById('content').innerHTML = '未安装'
          window.location.href = downloadUrl
        })
    }
  </script>
</body>

</html>